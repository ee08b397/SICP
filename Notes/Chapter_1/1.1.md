# 1.1 程序设计的基本元素

一个强有力的程序设计语言，不仅是一种指挥计算机执行任务的方式，它还应该成为一种框架，使我们能够在其中组织自己有关计算过程的思想。

每种强有力的语言都为此提供了三种机制：

* **基本表达式**，用于表示语言所关心的最简单的个体。
* **组合的方法**，通过它们可以从简单的东西出发构造出复合的元素。
* **抽象的方法**，通过它们可以为复合对象命名，并将它们当作单元去操作。


## 1.1.1 表达式

前缀表达式的优点：

1. 它完全适用于可能带有任意个实参的过程，如：`(+ 21 35 12 7)`
2. 它可以直接扩充，允许出现组合式嵌套的情况，即允许组合式的元素本身又是组合式，如：`(+ (* 3 5) (- 10 6))`


## 1.1.2 命名和环境

构造一个复杂的程序，也就是为了去一步步地创建出越来越复杂的计算性对象。

一个Lisp程序通常总是由一大批相对简单的过程组成的。

## 1.1.3 组合式的求值

要求值一个组合式，做下面的事情：

1. 求值该组合式的各子表达式。（在性质上，这一过程式递归的）
2. 将作为最左子表达式（运算符）的值的那个过程应用于相应的实际参数，所谓实际参数也就是其他子表达式（运算对象）的值。

应该把递归看做一种处理层次性结构的（像树这样的对象）级强有力的技术。

“值向上穿行”形式的求值形式是一类更一般的计算过程的一个例子，这种计算过程称为*树形积累*。

处理基础情况（不是组合式而是基本表达式）的方式如下规定（一般性求值规则）：

* 数的值就是它们所表示的数值。
* 内部运算符的值就是能完成相应操作的机器指令序列。
* 其他名字的值就是在环境中关联与这一名字的那个对象。

环境所扮演的角色就是用于确定表达式中各个符号的意义。

对各种表达式的求值规则可以描述为一个简单的通用规则和一组针对不多的特殊形式的专门规则。

## 1.1.4 复合过程

*过程定义*的一般形式：

    (define (<name> <formal parameters>) <body>)
    
## 1.1.5 过程应用的代换模型

对于复合过程，过程应用的计算过程是：

* 将复合过程应用于实际参数，就是在将过程体中的每个形参用相应的实参取代之后，对这一过程体求值。


这种计算过程称为过程应用的*代换模型*，可以看做确定过程应用的“意义”的一种模型。强调两点：

* 代换的作用只是为了帮助我们领会过程调用中的情况，而不是对解释器实际工作方式的具体描述。
* 这里的代换模型只是本书所有代换模型的第一个——作为形式化考虑求值过程的起点。一般来说，在模拟科学研究或者工程中的现象时，我们总是从最简单的不完全的模型开始。随着更细致的检查所考虑的问题，这些简单的模型也会变得越来越不合适，从而必须用进一步精化的模型取代。


### 应用序和正则序

“完全展开而后归约”的求值模型称为*正则序求值*。

“先求值参数而后应用”的方式，称为*应用序求值*。

应用序求值可以避免对表达式的重复求值。More important，在超出了可以采用替换方式模拟的过程范围之后，正则序的处理会变得更复杂得多。


## 1.1.6 条件表达式和谓词

条件表达式得一般形式：

```scheme
	(cond (<p1> <e1>)
		  (<p2> <e2>)
		  .
		  .
		  (<pn> <en>))
```

`<pn>`称为*谓词*。其值被解释为真或假。

*谓词*指那些返回真或假得过程，也指那种能求出真或假得值得表达式。

`if`表达式得一般形式：`if <predicate> <consequent> <alternative>`。

与：`(and <e1> ... <en>)`

或：`(or <e1> ... <en>)`

非：`(not <e>)`

注意，`and`和`or`都是特殊形式而不是普通得过程，因为它们得字表达式不一定都求值，`not`则是一个普通得过程。